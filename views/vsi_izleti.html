<!doctype html>
<html lang="en">



  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <title>Izleti</title>

    <style>
         th, td {
          border: 1px solid black;
        }

    </style>
   

  </head>



  <body>
      

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
  
     
    





<div class="container">
    <div>
        <h2> Uporabnik: <p style="color: rgb(37 0 185 / 89%);">{{id_uporabnika}}</p></h2>
    </div>    

  
    <div class="row">

        <img src="/slika"> 
    </div>

    
    <div class="row">
    

        <div class="col">
            

    %if izleti.vsi():       
    <table class="table table-danger">
        <thead>
            <tr>
                <th scope="col">Pretekle destinacije</th>
                <th  scope="col">Skupna poraba</th>
                <th  scope="col">Več</th>
            </tr>
        </thead>
        <tbody>
    %for izlet in izleti.pretekli():
            <tr>
        
                <td>
                    {{izlet.destinacija}}  (od {{izlet.datum_zacetek}} do {{izlet.datum_konec}})
                </td>
            
                <td>
                    {{izlet.skupna_poraba()}} € ({{round(izlet.skupna_poraba_procenti(), 2)}} %)
                </td>

                <td>
                    <form action={{f"/{id_uporabnika}/izlet/{izleti.vsi().index(izlet)}"}} method="GET">

                        <input type="submit" value="Podrobno" class="btn btn-primary">
 
                     </form>
                </td>

            </tr>

    %end
    </table>

    
    % aktualni = izleti.aktualni()
    %if aktualni != None:
    <table class="table table-success">
        <thead>
            <tr>
                
                <th scope="col">Aktualna destinacija: <h3><p style="color:rgb(0, 68, 255);"> {{aktualni.destinacija}} </p></h3> 
                    (od {{aktualni.datum_zacetek}} do {{aktualni.datum_konec}}) </th>
              
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <p style="color:rgb(255, 0, 0);">Poraba do zdaj: </p>
                </td>
                <td>
                    <p style="color:rgb(255, 0, 0);">{{aktualni.skupna_poraba()}} € ({{round(aktualni.skupna_poraba_procenti(), 2)}} %) </p> 
                </td>

                <td>
                    <form action={{f"/{id_uporabnika}/izlet/{izleti.vsi().index(aktualni)}"}} method="GET">

                        <input type="submit" value="Dodaj nakup" class="btn btn-primary">
 
                     </form>
                </td>

            </tr>
            <tr>
                <td>
                    <p style="color:green;"> Trenutno stanje:</p>
                </td>
                <td>
                    <p style="color:green;"> {{aktualni.trenutno_stanje}} € </p>
                </td>

                <td>
                  
                </td>
            </tr>
        </tbody>

    </table>
    %end


    <table class="table table-warning">
        <thead>
            <tr>
                <th scope="col">Prihodnje destinacije</th>
                <th  scope="col">Pričakovana poraba</th>
                <th  scope="col">Pričakovan proračun</th>
                <th  scope="col">Več</th>
            </tr>
        </thead>
        <tbody>
    %for izlet in izleti.prihodnji():
                <tr>

                    <td>
                        {{izlet.destinacija}} (od {{izlet.datum_zacetek}} do {{izlet.datum_konec}})
                    </td>
                    <td>
                        {{izlet.skupna_poraba()}} €
                    </td>

                    <td>
                        {{izlet.zacetno_stanje}} €
                    </td>


                    <td>
                        <form action={{f"/{id_uporabnika}/izlet/{izleti.vsi().index(izlet)}"}} method="GET">
    
                            <input type="submit" value="Podrobno" class="btn btn-primary">
     
                         </form>
                    </td>
                </tr>
                
    %end
        </tbody>

    </table>
    %else:
    <div>
        <h3><p style="color:rgb(255, 0, 0);">Izletov še ni!</p></h3>
    </div>
    %end
    <form action={{f"/{id_uporabnika}/urejanje"}} method="GET">
    
        <input type="submit" value="Urejaj izlete" class="btn btn-primary">

    </form>

    
    


  

        </div>
    </div>

</div>




  </body>
</html>